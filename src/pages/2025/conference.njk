---js
{
  layout: "base",
  title: "nullEDGE 2025 — Retrospective",
  description: "Retrospective for the nullEDGE 2025 conference: session videos, feedback and resources",
  permalink: "/2025/conference/",
  eleventyComputed: {
    nullEDGE: (data) => data.events2025Array.find(e => e.id === "2025-nulledge")
  }
}
---

{% from "partials/chat.njk" import chatDisplay %}

<div class="container wrapper flow">
  <section class="prose text-center">
    <h1>nullEDGE 2025 — Retrospective</h1>
    <p class="lead">Session replays, chat highlights, and thanks to everyone who made it happen.</p>
  </section>

  {# Sessions - Larger thumbnails, better layout #}
  <section id="sessions" class="region flow">
    <h2>Session Videos</h2>
    <div class="sessions-grid">
      {% for session in nullEDGE.sessions %}
        {% if session.id %}
        <a href="/2025/conference/{{ session.title | slugify }}/" class="session-card">
          <img src="https://img.youtube.com/vi/{{ session.id }}/mqdefault.jpg" alt="" loading="lazy" class="session-thumb">
          <div class="session-info">
            <strong>{{ session.title }}</strong>
            <span>{{ session.speakers | join(", ") }}</span>
            <span>{{ session.duration }} min</span>
          </div>
        </a>
        {% endif %}
      {% endfor %}
    </div>
  </section>

  {# Chat #}
  <section id="chat" class="region flow">
    {{ chatDisplay(eventChat) }}
  </section>

  {# Team - With photos #}
  <section id="team" class="region flow">
    <h2>The Team</h2>
    <div class="team-grid">
      {% for member in nullEDGE.team %}
        {%- set person = people[member.name] %}
        {%- set linkedinUrl = person.linkedin if person and person.linkedin else None %}
        {%- set websiteUrl = person.website if person and person.website else None %}
        {%- set searchUrl = "https://www.linkedin.com/search/results/all/?keywords=" + (member.name | urlencode) %}
        {%- set profileUrl = linkedinUrl or websiteUrl or searchUrl %}
        <div class="team-card">
          {% if person and person.image %}
            <img src="{{ person.image }}" alt="{{ member.name }}" class="team-photo" loading="lazy">
          {% else %}
            <div class="team-photo-placeholder"></div>
          {% endif %}
          <div class="team-info">
            <a href="{{ profileUrl }}" target="_blank" rel="noopener noreferrer" class="team-name-link">{{ member.name }}</a>
            <span>{{ member.role }}</span>
          </div>
        </div>
      {% endfor %}
    </div>
  </section>

  {# Sponsors #}
  <section id="sponsors" class="region flow">
    <h2>2025 Sponsors</h2>
    <div class="sponsors-row">
      {% for sponsorName in nullEDGE.sponsors %}
        {%- set company = companies[sponsorName] %}
        <a href="{{ company.website }}" target="_blank" rel="noopener noreferrer">
          <img src="{{ company.image }}" alt="{{ sponsorName }}" eleventy:ignore loading="lazy">
        </a>
      {% endfor %}
    </div>
  </section>

  {# CTA #}
  <section class="region text-center">
    <h2>Join Us in 2026</h2>
    <p>Four events across the year. <a href="/">View 2026 Events →</a></p>
  </section>
</div>

<style>
  .sessions-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
    gap: var(--space-l);
  }

  .session-card {
    display: flex;
    flex-direction: column;
    background: var(--color-bg-surface);
    border: 1px solid var(--color-border);
    border-radius: var(--border-radius);
    overflow: hidden;
    text-decoration: none;
    color: inherit;
    transition: border-color 0.2s, box-shadow 0.2s;
  }

  .session-card:hover {
    border-color: var(--color-primary);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
  }

  .session-thumb {
    width: 100%;
    aspect-ratio: 16 / 9;
    object-fit: cover;
  }

  .session-info {
    padding: var(--space-m);
    display: flex;
    flex-direction: column;
    gap: 0.25rem;
  }

  .session-info strong {
    font-size: var(--size-step-0);
    color: var(--color-text);
    line-height: 1.3;
  }

  .session-info span {
    font-size: var(--size-step--1);
    color: var(--color-text-muted);
  }

  .team-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
    gap: var(--space-m);
  }

  .team-card {
    display: flex;
    align-items: center;
    gap: var(--space-s);
    padding: var(--space-s);
    background: var(--color-bg-surface);
    border: 1px solid var(--color-border);
    border-radius: var(--border-radius);
  }

  .team-photo {
    width: 60px;
    height: 60px;
    border-radius: 50%;
    object-fit: cover;
    flex-shrink: 0;
  }

  .team-photo-placeholder {
    width: 60px;
    height: 60px;
    border-radius: 50%;
    background: var(--color-border);
    flex-shrink: 0;
  }

  .team-info {
    display: flex;
    flex-direction: column;
  }

  .team-name-link {
    font-size: var(--size-step-0);
    font-weight: 600;
    color: var(--color-text);
    text-decoration: none;
  }

  .team-name-link:hover {
    color: var(--color-primary);
    text-decoration: underline;
  }

  .team-info span {
    font-size: var(--size-step--1);
    color: var(--color-text-muted);
  }

  .sponsors-row {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-l);
    align-items: center;
    justify-content: center;
  }

  .sponsors-row img {
    height: 60px;
    width: auto;
  }
</style>
